<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
This is an example weekly progress report document that team members can use to report their individual progress 
of their ECE477 senior design projects. Weekly progress reports are expected to follow the general guidelines
presented in the "Progress Report Policy" document, available online at https://engineering.purdue.edu/ece477/Course/Policies/policies.html

Please create 4 copies of this example, renaming each copy to <PurdueID>.html, where <PurdueID> corresponds to
the Purdue ITAP Career Account ID given by Purdue to each individual team member. If you have any questions,
contact course staff.
-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<!--Reconfigurable base tag; used to modify the site root location for root-relative links-->
<base href="https://engineering.purdue.edu/477grp12/" />

<!--Content-->
<title>ECE477 Course Documents</title>
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta name="author" content="George Hadley">
<meta name = "format-detection" content = "telephone=no" />
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<!--CSS-->
<link rel="stylesheet" href="css/default.css" type="text/css" media="all" />
<link rel="stylesheet" href="css/responsive.css">
<link rel="stylesheet" href="css/styles.css">
<link rel="stylesheet" href="css/content.css">
<!--[if IE 6]>
<link href="default_ie6.css" rel="stylesheet" type="text/css" />
<![endif]-->

</head>
<body>
<div id="wrapper_site">
    <div id="wrapper_page">
	<!-- Instantiate global site header.-->
	<div id="header"></div>
		<!-- Instantiate site global navigation bar.-->
		<div id="menu"></div>
	
		<!-- Instantiate a page banner image. Page banner images should be 1100x350px and should be located within the local
			img folder located at this directory level. -->
		<div id="banner">
			<img src="Files/img/BannerImgExample.jpg"></img>
		</div>
	
		<!-- Instantiate "tools" needed for a page. Tools are premade functional blocks that can be used to build a page,
			and include things such as a file lister (for listing out homework assignments or tutorials)
		-->
		<div id="content">
            <h2>Progress Report for Austin Peterson</h2>
            
            <div class="bar">
                <h4>Week:</h4>
                <ul>
                    <li> <h4> <a href="Team/progress/peter174.html#week1" style="text-decoration:none">&nbsp;1</a> </h4> </li>
                    <li> <h4> <a href="Team/progress/peter174.html#week2" style="text-decoration:none">&nbsp;2</a> </h4> </li>
                    <li> <h4> <a href="Team/progress/peter174.html#week3" style="text-decoration:none">&nbsp;3</a> </h4> </li>
                    <li> <h4> <a href="Team/progress/peter174.html#week4" style="text-decoration:none">&nbsp;4</a> </h4> </li>
                    <li> <h4> <a href="Team/progress/peter174.html#week5" style="text-decoration:none">&nbsp;5</a> </h4> </li>
                    <li> <h4> <a href="Team/progress/peter174.html#week6" style="text-decoration:none">&nbsp;6</a> </h4> </li>
                    <li> <h4> <a href="Team/progress/peter174.html#week7" style="text-decoration:none">&nbsp;7</a> </h4> </li>
                    <li> <h4> <a href="Team/progress/peter174.html#week8" style="text-decoration:none">&nbsp;8</a> </h4> </li>
                    <li> <h4> <a href="Team/progress/peter174.html#week9" style="text-decoration:none">&nbsp;9</a> </h4> </li>
                    <li> <h4> <a href="Team/progress/peter174.html#week10" style="text-decoration:none">&nbsp;10</a> </h4> </li>
                    <li> <h4> <a href="Team/progress/peter174.html#week11" style="text-decoration:none">&nbsp;11</a> </h4> </li>
                    <li> <h4> <a href="Team/progress/peter174.html#week12" style="text-decoration:none">&nbsp;12</a> </h4> </li>
                    <li> <h4> <a href="Team/progress/peter174.html#week13" style="text-decoration:none">&nbsp;13</a> </h4> </li>
                    <!-- <li> <h4> <a href="Team/progress/peter174.html#week14" style="text-decoration:none">&nbsp;14</a> </h4> </li> -->
                    <!-- <li> <h4> <a href="Team/progress/peter174.html#week15" style="text-decoration:none">&nbsp;15</a> </h4> </li> -->
                    <!-- <li> <h4> <a href="Team/progress/peter174.html#week16" style="text-decoration:none">&nbsp;16</a> </h4> </li> -->
                </ul>
            </div>
            <div id="week1">
                  <h4>Week 1:</h4>
            </div>
            <b>Date:</b> 13 January 2017<br>
            <b>Total hours:</b> 5<br>
            <b>Description of design efforts:</b><br>
            For the first week, I worked on finding my guitar that we would be using for the project. I also worked on installing Eagle onto my computer to prepare and brush up on my Eagle experience. During this week, I worked on writing up the Final Project Proposal as well as researching in my own time different components that we would want to implement in the design of Guitutar. The result was that it would be best to either use surface mounted LEDs or discrete LEDs.
            <br> <br>
            <div align="center">
            	<img width="10%" src="Team/progress/img/AustinImg/smd_led.png">
            	<img width="10%" src="Team/progress/img/AustinImg/discrete_led.png">
            	<p style="clear: both;">
            </div>
            <br>
            The surface mount LEDs will allow us to have a smaller profile when we add the LEDs to the guitar neck. The discrete LEDs would be small enough in diameter that we would be able to fit six in a row. I learned that there is a lot of preplanning involved when designing devices with multiple components. There also needs to be extensive research and property checking to verify that the parts are good for the product. The next step would be to develop the functional specification of the project and realize any constraints that we may run into during the project.
            <br>

            <br>

            <div id="week2">
                  <h4>Week 2:</h4>
            </div>
            <b>Date:</b> 20 January 2017<br>
            <b>Total hours:</b> 12<br>
            <b>Description of design efforts:</b><br>
            Most of the time for week 2 was spent on finishing the functional specification of the project. For the functional specification, I researched more into the electrical components that would go on the PCB (microcontroller, Bluetooth capability, LEDs, etc.) and got the measurements for the guitar neck. A lot of researching on the internet was done to determine what microcontroller would be the best to use for our project. It seems like a STM32F030C6 would work for us, but we need to make sure it is compatible with Bluetooth and USB. I also looked more into using strip LEDs for the neck. Strip LEDs would be nice to use, but there is the issue that we need the LEDs to be evenly spaced for the guitar neck and it cannot be too thick. Measuring the guitar was a necessary task as it helps the team better understand how much room we have to work with when planning out the device and designing the PCB. My guitarâ€™s measurements are:
            </br> <br>
			<div align="center">
            	<img style="float: center;" width="70%" src="Team/progress/img/AustinImg/guitar_measurements.png"> 
            	<p style="clear: both;">
            </div>
            <br>
            With these measurements, I learned that modularizing the PCBs might be a bit more difficult because the measurements of the PCB would change depending on their placement on the neck.
            <br> <br>
            A lot of work in improving our design was also done during this week. Instead of going with signal processing of the guitar to determine what note/chord was played, we will be going with turning the strings and frets of the guitar neck into a switch matrix. Building this is new to me so I did some reading as to how it could be done. It sounds like we would have to power the strings and make the string and fret contact into a type of switch that would complete the circuit and indicate a note pressed to the microcontroller. This changes the project as we would not need a microcontroller with a lot of memory. The next step would be to build a prototype of the switch matrix using guitar strings and frets and interface them with LEDs. This prototype would then verify if our new design is viable for the final product. <br>
            <div align="center">
            	<img style="float: left;" width="30%" src="Team/progress/img/AustinImg/switch_matrix.png">
            	<img style="float: right;" width="48%" src="Team/progress/img/AustinImg/prototype_switch_matrix.png">
            	<p style="clear: both;">
            </div>
            <br>

            <br>

            <div id="week3">
                  <h4>Week 3:</h4>
            </div>
            <b>Date:</b> 27 January 2017<br>
            <b>Total hours:</b> 19<br>
            <b>Description of design efforts:</b><br>
            This week was spent on finalizing the major components for the PCB. This included the microcontroller, LEDs, vibration sensor, Bluetooth transceiver, and battery. I was responsible for finalizing the LEDs, vibration sensor, and battery and charging circuit for the project. We decided to go with using Kingbright APT3216LVBC/D blue surface mounted LEDs. These LEDs had a forward voltage of 2.65 volts and an operating current of 2mA. This means that the LED has low power dissipation of 5.3mW and would not drain our battery as much. We needed a way to determine if the user strummed the guitar. Initially, I tried seeing if we could pick up the change in resistance of the string when pressed against a fret. The strings had a resistance of 1 to 2 ohms, and they increased when pressed against a fret and decreased when measured at a shorter distance from the guitar bridge. With these findings, using a vibration sensor would be simpler since the sensor would be able to pick up reverberations from the guitar when the strings are strummed. The vibration sensor is going to be 7BB-20-6L0 Piezo element disc sensor. The battery was chosen based on voltage rating and current capacity. The battery is 3.7V Lithium Ion battery with a current capacity of 6600mAh. This means that we would have total capacity of 24.42 Wh of power (3.7V * 6600mA). This amount would be plenty for powering the microcontroller, Bluetooth transceiver, LEDs, and any other peripherals with a lot of extra power to spare. I also decided that I wanted the battery to be rechargeable without removing the entire battery from the device. Using a charging circuit in addition would help solve this problem and add a bonus functionality of either plug-in-and-play or mobile playing. The charging circuit also has the ability to ramp up the voltage to 5.2V if we need more voltage. <br>
            <div align="center">
            	<img width="20%" src="Team/progress/img/AustinImg/kingbright_led.png">
            	<img width="20%" src="Team/progress/img/AustinImg/piezo_element.png">
            	<img width="20%" src="Team/progress/img/AustinImg/charging_circuit.png">
            	<img width="20%" src="Team/progress/img/AustinImg/battery.png">
            	<p style="clear: both;">
            </div>
            <br>
            In addition to finalizing the components, I worked on building the circuits for the prototype. I first started with building a simple circuit that would test the validity of using the string and fret as a switch matrix. I built the circuit using a 1k ohm resistor, LED, and 5V power supply and the circuit would turn on an LED when the powered string touches a fret. This raised a safety problem when I built the circuit: would the battery short if the user plays a bar chord or if he/she acts as a bridge between two or more strings. To mitigate this problem, the microcontroller could clock the power to the strings so these bridges would not happen. <br>
            <div align="center">
            	<img width="50%" src="Team/progress/img/AustinImg/test_circuit1.png">
            	<img width="20%" src="Team/progress/img/AustinImg/prototype1.png">
            	<p style="clear: both;">
            </div>
            <br>
            We have a lot of LEDs that will need to be powered and routed to the microcontroller pins. Fortunately, all of the LEDs do not need to be on at the same time. To determine if the 3.7V battery and 5.2V ramp up charging circuit will be sufficient for the entire project, I talked with my power professor to see how I would go about solving for Vsource (the battery). I learned that determining the battery depends on the total voltage of the load (the LEDs, micro, and other peripherals). Using this total voltage, I would add resistors to meet the operating current condition of the LEDs. Using this information, I can then calculate the energy and power consumed and determine the capacity of the battery from there. The selected battery should have plent of power to power the entire device. However, the problem was going to be the configuration of the LEDs. After doing some more research on charlieplexing, I learned that a charlieplex formation would not work for us since charlieplexing only allows one LED to be on at a time. When playing bar chords, we would want to illuminate an entire bar and then the other notes to complete the chord. This means that we might have at least two LEDs illuminated for one string. A different formation would need to be designed. I decided to try connecting the positive leads together down the string and have the negative leads go to the microcontroller. This should tell the microcontroller what string and fret was pressed. The next steps are to intergrate this circuit with the PIC32MX570F512L microcontroller and build the first circuit on Eagle. This way we could determine if the microcontroller is seeing the switch changes for the guitar notes. Until the microcontrollers come in, I will continue refreshing and practicing with Eagle to prepare for the circuit board design. <br>
            <div align="center">
            	<img width="20%" src="Team/progress/img/AustinImg/test_circuit.png">
            	<img width="20%" src="Team/progress/img/AustinImg/prototype1_multirow.png">
            	<p style="clear: both;">
            </div>
            <br>

            <br>

            <div id="week4">
                  <h4>Week 4:</h4>
            </div>
            <b>Date:</b> 3 February 2017<br>
            <b>Total hours:</b> 13.5<br>
            <b>Description of design efforts:</b><br>
            For this week, I started to look more into the electrical analysis of the project. A lot of time was spent on determining if the selected 3.7V battery ramped up to 5.2V will be satisfactory for powering the project. Using the information from my professor and researching online, the total power consumption for two LEDs in series will be 13.515mW. A problem that might occur is when a bar chord needs to be illuminated (9 LEDs total). For LEDs in series, the voltage drop is the sum of the two LEDs and the current stays constant. For LEDs in parallel, the voltage is constant and the operating current increases. I am not sure how much the circuit's power consumption and forward voltage will change when multiple LEDs in series and parallel are on. More research and talks with my professor will need to be planned. The strings will be powered with 3.7V and they will be clocked at a frequency greater than 360 Hz because this will be fast enough that a user will not recognize that only one string is powered at a time. This will ensure that a short will not occur when two strings are joined through a type of bridge. <br>
            <div align="center">
                  <img width="40%" src="Team/progress/img/AustinImg/LED_Power_eqns.png">
                  <p style="clear: both;">
            </div>
            <br>
            During lab hours, we changed how we wanted to implement the PCB into the neck of the guitar. A large issue was how we wanted to implement the PCB into the neck. Two questions about implementing the PCB into the neck were discussed: "Did we want to mill out sections from the fretboard" or "Did we want to build our own fretboard". We agreed to use a modular PCB where instead of one large PCB or multiple small PCBs for each fret, we will build multiple cut into sections PCBs that will span the entire neck. We can use a two sided PCB to route the traces for the LEDs on one side and have the components on the other. The PCBs would be connected through a solder bridge on the edges of the PCBs. The frets would also be on the same side as the components and they will be attached to the PCB to ensure electrical contact. A clear plastic layer will be applied over the PCB to protect the circuit and to finalize the packaging of the device. The plastic selected must be clear enough for the LEDs to shine through and not allow the plastic to turn opaque when light shines through it. In addition to reworking the switch matrix test circuit, I also worked on a  test circuit for the validity of the insulation. The strings are touching a metal bridge on the guitar that will act as a short between the strings when they are powered. It was decided that we would use some form of insulation to isolate each string without affecting the sound quality. Using liquid rubber, I checked to see if the material we selected was sufficient enough to prevent fraying and prevent current flow. The rubber does prevent current flow, but it could be punctured or frayed. Alternatives were researched, and using a product called string sleeves could solve our problem. Future tests to determine if these sleeves are sufficient will be conducted once the parts get in. <br>
            <div align="center">
                  <img width="40%" src="Team/progress/img/AustinImg/prototype2_rubber.png">
                  <p style="clear: both;">
            </div>
            <br>
            In addition to the circuit analysis, I built a block diagram to explain the different sections of the device and the orientation of the LED array and switch matrix. Since the design of the PCB will be modular, I will have to consider the changing size of the guitar neck when I design the fret PCBs. Each PCB would also need to route the traces touching the fret and the LEDs to the microcontroller. This will require multiple layouts.
            <div align="center">
                  <img width="70%" src="Team/progress/img/AustinImg/ElectricalOverview_BlockDiagram.png">
                  <p style="clear: both;">
            </div> 
            <br>

            <br>

            <div id="week5">
                  <h4>Week 5:</h4>
            </div>
            <b>Date:</b> 10 February 2017<br>
            <b>Total hours:</b> 10<br>
            <b>Description of design efforts:</b><br>
            For this week, I took a look at determining how we were going to attach the PCB to the guitar neck. To start, I used Autodesk Inventor Pro to design a small CAD part that will provide a flat surface and house the PCB. I had to take measurements with a caliper to be able to get accurate measurements for the part. The part was modeled to have a length of 21.05mm and a width of 21.05mm. There is a recessed section in the back of the part that was made to compensate for a slight slope near the base of the guitar neck. This way, the housing will have clearance to adhere to the neck and provide a level surface. There is also a recessed section on the bottom cut out that will house the PCB.  <br>
            <br>
            <div align="center">
                  <img width="40%" src="Team/progress/img/AustinImg/pcb_mount.PNG">
                  <p style="clear: both;">
            </div>
            <br>
            One issue about using this mount was connecting the guitar neck PCBs to the microcontroller PCB housed on the mount. If we used the mount, then we would have to route multiple wires off the side of the neck and into the microcontroller. It was later decided that it would be better to place the microcontroller near the center of the guitar neck on the neck PCBs. The reason for this change was to minimize the ammount of continuous traces that connected the LEDs to the microcontroller. This also solved our issue of connecting the PCB on the mount to the PCBs on the neck. In addition, this change was better for the project since we could utilize the underside of the PCB to mount the microcontroller if the topside was getting cluttered. A few potential issues about this design would be heat and accessibility. Since the microcontroller is going to be completely covered by the guitar neck, heat might cause issues to the functionality of the chip. However, we are not running the chip at a high clocking frequency, and we are not expecting heat to be an issue. The other issue is accessibility. This configuration would prevent us from accessing the microcontroller if there are any issues. A solution to this would be to add multiple test pads that go through the board that will provide us access to determine if the microcontroller is working properly. <br>
            <br>
            Another issue we have to consider is how we are going to attach the PCB and plastic cover onto the guitar neck. We could use either screws or glue to adhere the plastic cover to the neck PCBs. I was thinking of potentially using Velcro straps to attach the PCB to the guitar neck. This allows us to be able to remove the PCBs with ease when needed. A big problem is potential bending of the PCBs when pulling the PCB off the neck. In addition, removing the PCB multiple times would wear the Velcro strap which would cause the PCBs to hang off and maybe become uneven. We could use glue, but then the adhesion would be a permanent solution and we would not be able to remove the PCBs without damaging parts. <br>
            <br>
            <div align="center">
                  <img width="40%" src="Team/progress/img/AustinImg/sideview_neck.png">
                  <p style="clear: both;">
            </div>
            <br>
            Overall, progress on the mechanical side of the project is going well. We still have crucial parts such as the piezo disc and Bluetooth transceiver that are coming in that still need to be tested. Brian was able to get LEDs to illuminate on the development board for the microcontroller. The next step is to connect the microcontroller to the switch matrix and determine if the microcontroller is receiving input from the switch matrix. We also need to test multiple rows of LEDs and illuminate several of them using the microcontroller and powering the system with the battery circuit. This coming week, I will be putting more focus on building the stant board for the microcontroller and developing the Eagle library.
            <br>

            <br>

            <div id="week6">
                  <h4>Week 6:</h4>
            </div>
            <b>Date:</b> 17 February 2017<br>
            <b>Total hours:</b> 14<br>
            <b>Description of design efforts:</b><br></br>
            A lot of work on building the schematic in Eagle was done this week. There were three goals that I wanted to accomplish for this week: build the Eagle library parts, build the stamp board, and build the complete schematic for the project. Building the microcontroller was not too difficult as I built it by using a large schematic symbol that shows each pin and pin name and using a pre-built PCB layout that matched the dimensions of our microcontroller. The microcontroller required a lot of resistors and decoupling capacitors. These components and a ICSP header and four 25-pin headers were added to the schematic. I will have to do some research in what pin headers we want to use. I already selected the resistors and capacitors and updated the BOM. I also built the Bluetooth module symbol in a similar fashion. I had to build the PCB layout manually since there were no identical models to use. When building the Bluetooth module, I recognized that the part we selected does not have an onboard transmitting antenna. The other part, which is numbered BM78SPPS5NC2, has an onboard antenna and it was decided that we will use that part instead. This makes building the circuit easier since we do not need to integrate an antenna and any other external parts to make the Bluetooth module work. <br>
            <br>
            <div align="center">
            	<img width="40%" src="Team/progress/img/AustinImg/guitutar_sch_1.png">
            	<img width="40%" src="Team/progress/img/AustinImg/guitutar_sch_2.png">
            	<p style="clear: both;">
            </div>
            <br>
            We ran into several roadblocks when programming the microcontroller. The main issues were getting Harmony set up and finding sample code for the PIC32 microcontroller. After getting help from our TA, we were able to get Harmony set up, and Brian was able to set up test code for LEDs. We are planning on building a 3x6 LED matrix and be able to get the micro to illuminate LEDs in the order of a guitar chord. On the PCB side, I am going to see if the schematic that Jen and I worked on will be able to build the PCB layout. A primary issue I forsee is that the switches are not supposed to be built on the layout and the LED matrix needs to be on separate boards from the microcontroller. I will have to learn how to build solder bridges in Eagle and be able to apply them to our circuit layout. Another issue I am predicting is issues with the traces overlapping. The microcontroller has 100 pins and is very small and Eagle needs to be configured so that we could build the layout and not have overlapping signal traces. We also need to add a line on the layout that will serve as a connection to the guitar fret. 
            <br>

            <br>

            <div id="week7">
                  <h4>Week 7:</h4>
            </div>
            <b>Date:</b> 24 February 2017<br>
            <b>Total hours:</b> 3<br>
            <b>Description of design efforts:</b><br></br>
            I was out of town for the majority of this week so my work was minimal. Fortunately, my team was able to update me while I was gone. As of now, we removed the fretboard from the guitar neck in order to understand more about how much room we have to work with. I measured the fretboard in order to get an accurate measurement of how much room we have for the fretboard. Since we are building our own fretboard using a plastic layer and the PCB, we would have about 5.44mm of material to work with in order to keep the same height of the fretboard. Jen started working on the PCB layout of the stamp board. She mentioned that the layout is complete, but it might be in our best favor to add space for an external oscillator just in case we need it. I started looking at building the layout for the LED arrays. I added a resistor in front of each LED so we could prevent overvoltage/overcurrent on the LED. This will drive up our final cost as we would need to order 138 extra resistors. We took a look at resistor SMD arrays, but we are leaning towards using individual SMD resistors because the SMD arrays will be larger than the shift register and we would be tight on space. Brian was also able to get the microcontroller to receive input from a switch. This would then be applied to our switch matrix and would allow us to determine if the notes were pressed on the guitar. <br>
            <br>
            <div align="center">
                  <img width="40%" src="Team/progress/img/AustinImg/PiezoScopeTouch.png">
                  <img width="40%" src="Team/progress/img/AustinImg/PiezoScopeMass.png">
                  <p style="clear: both;">
            </div>
            <br>
            On Friday, I was able to go into the lab to test the Piezo discs. The disc will be used to determine if the guitar is vibrating from strumming the guitar. This will be our input to the microcontroller saying that the note/chord was strummed and to move to the next note/chord. By hooking up an oscilloscope directly to the Piezo disc leads, I was able to see a wavefrom from touching the disc as seen in the image above on the left. However, vibrations were not being picked up. This led me to applying a mass on top of the disc and then checking the output waveform. The waveform was a lot more noticeable and light tapping on the desk was able to produce the waveform seen above on the right. I don't think we would need to apply an amplifier circuit to the Piezo disc since the amplitude of the waveform was 1-2V, which I am assuming is plenty for the microcontroller to be able to detect as an input.
            <br>

            <br>

            <div id="week8">
                  <h4>Week 8:</h4>
            </div>
            <b>Date:</b> 3 March 2017<br>
            <b>Total hours:</b> 5<br>
            <b>Description of design efforts:</b><br></br>
            This week was devoted to midterm design reviews. Work on PCB layout was continued and stamp module was finalized and submitted. Progress reports were not necessary for this week.
            <br>

            <br>

            <div id="week9">
                  <h4>Week 9:</h4>
            </div>
            <b>Date:</b> 10 March 2017<br>
            <b>Total hours:</b> 31<br>
            <b>Description of design efforts:</b><br></br>
            A lot of this week was spent on finishing the PCBs. For this week, I made sure to finish and submit the stamp board and PCB1. PCB1 is the PCB that will house the top three frets and the Bluetooth module. This project is proving to be a lot harder where running traces along the entire neck is difficult to build on the layout. If we were able to use the professional version of Eagle earlier, we could have used more than two layers (the interior layers could be dedicated for component traces and the last layer would be dedicated to microcontroller traces). I also had to finish PCB3 due to Jen leaving for spring break early. This was no issue and I was able to finish PCB3 which houses the middle frets and the microcontroller. Due to time restrictions and how long it would take to receive and solder the PCBs, we might need to consider only doing PCB1-3 and leaving out the lower notes.<br>
            <br>
            <div align="center">
                  <img width="40%" src="Team/progress/img/AustinImg/PCB1.png">
                  <img width="40%" src="Team/progress/img/AustinImg/PCB3.png">
                  <p style="clear: both;">
            </div>
            <br>
            In addition on working on the PCB layouts, I met with Joe Bougher to discuss the feedback we had for the midterm design review and other considerations we should add to our PCB. We talked about four topics: current limiting shift registers that run with I2C, Vibration detection, ESD protection, and use of an LDO. For the shift registers, we had two options: keep using our chosen SRs or switch to a current limiting shift registers. The new SRs would allow us to remove the resistor array to save space and it would require the use of I2C. However, we decided to keep our current SRs because the new SR would be bigger than our current one, and we would have to add an I2C multiplexer because our microcontroller only allows 2 I2C pins (this means that we could only use 16 SRs and we would potentially need 23). For vibration detection, we decided to drop using the Piezo discs and to use the guitar pickup. The pickup works on induced current and we would only need to connect an amplifier to the amp jack on the guitar. For ESD protection, a 330k resistor would be added in series to the fret which would ensure 1uA of current to the microcontroller. With a max output current of 15mA and a 330k resistor, we would be protected from 4950V of static. One oversight we had in designing the schematic was we had 3.7V and 5.2V at our use, but our micro only ran at 3.3V max. To fix this, we could use a low drop out regulator or LDO. We would use the PowerBoost to boost the battery voltage of 3.7V to 5.2V and then regulate the voltage to 3.3V.
            <br>

            <br>

            <div id="week10">
                  <h4>Week 10:</h4>
            </div>
            <b>Date:</b> 17 March 2017<br>
            <b>Total hours:</b> 0<br>
            <b>Description of design efforts:</b><br></br>
            Spring Break
            <br>

            <br>

            <div id="week11">
                  <h4>Week 11:</h4>
            </div>
            <b>Date:</b> 24 March 2017<br>
            <b>Total hours:</b> 6<br>
            <b>Description of design efforts:</b><br></br>
            Our stamp board and PCB3 boards arrived! I will begin working on soldering the components onto PCB3. This will include the microcontroller and the LDO. After inspecting the boards, it looks like the traces are very close, but there should not be any issues. To verify this, I can use the DMM to test for continuity between traces. PCB1 is finished and PCB2 is almost done. I would like to wait until PCB2 is aligned correctly with PCB1 and PCB3 before I want to order PCB1 and PCB2. I also want to update the BOM so the team has an organized and finalized list of parts when we start soldering the components. After talking with the TAs and the team, finishing PCB1, 2, and 3 are the minimum amount of boards we would need to achieve our PSSCs. We should focus our efforts on getting PCB1 and 2 fabricated and troubleshooting those three boards in order to get the project to work. Boards 4 and 5 will be delayed and added on if time allows. They are delayed because building the boards will become exponentially harder due to the increasing number of frets. I am hoping that we would be able to get PCB4 and 5 in the final product. To save space, we are considering using multiple resistor arrays. For example, if an LED array requires 6 resistors, we could use two 3-resistor arrays instead of one 6-resistor array. Brian is almost finished with the GPIO and Cole is still working on the controller app. We could use one of the Bluetooth transceivers and solder it to protoboard so we could start prototyping and debugging the Bluetooth communication. Work on building an amplifier for the pickup and adding a power switch to the PowerBoost are still in progress. I have an idea of how I would want to implement these parts, and it should not take too long to finish them. The amplifier will be a non-inverting amplifier circuit using an LM741 and built on protoboard and attached to the pickup jack. There is a wire on the inside that we can connect to that will serve as the input. This should not affect the output if the user wants to plug into an amplifier speaker. For the power switch, a simple switch on the positive wire will work as an "ON/OFF" switch. <br>
            <br>
            <div align="center">
                  <img width="40%" src="Team/progress/img/AustinImg/pcboard3.png">
                  <img width="40%" src="Team/progress/img/AustinImg/stampboard.png">
                  <img width="40%" src="Team/progress/img/AustinImg/pickup_amp.png">
                  <p style="clear: both;">
            </div>
            <br>

            <br>

            <div id="week12">
                  <h4>Week 12:</h4>
            </div>
            <b>Date:</b> 31 March 2017<br>
            <b>Total hours:</b> 13<br>
            <b>Description of design efforts:</b><br></br>
            This week was spent primarily working on the Safety and Reliability analysis, practicing cutting the PCB to match the shape of the guitar neck, working on the pickup amplifier, and rework on PCB1, 2, and 3. Reviewing each component and subsystem for the FMEA was useful in that we could verify that we are mitigating all potential failures and ensure we have a great working product. It was also good to review the design review feedback with Joe earlier than later because a lot of his comments helped in mitigating any potential failures in our design. It was unfortunate to find out that PCB3 was organized the wrong way where we had the traces for PCB1 and PCB2 going towards PCB4 and PCB5. We also had to rework the resistor arrays since we made the mistake of not finding out what package size we wanted to use (the schematic was using a generic resistor array part found in the standard Eagle library). Jen fixed the errors and updated the boards (as seen in the pictures below), and I am working on verifying that all of the traces are aligned and all of the parts are set. It was an unfortuante setback, but it is a good lesson on why we have design reviews and PCB verification reviews. I still have yet to update the BOM on the current list of parts. I also decided to upgrade the UA741 op amp to a LM324 low-power quad-op amp because the LM324 is rated for 3.3V. It is going to be slightly bigger than the UA741, but a big benefit is that the LM324 is used for audio amplification and it can be powered by our 3.7V battery, 5.2V boosted voltage, or our 3.3V regulated voltage. I tested the circuit with a high pass filter, and I was only getting negative peaks. I might need to filter the output to get a clean signal and I might need to try using a low pass filter on the input instead. Cutting the PCBs are going to be a challenge. The PCBs need to be cut at an angle, and during the cut, the PCB will sometimes shift itself and make me cut through traces or pads. This could be mitigated by applying a force through the use of a C-clamp or by pressing down on the PCB.
            <br>
            <div align="center">
                  <img width="40%" src="Team/progress/img/AustinImg/PCB1_updated.png">
                  <img width="40%" src="Team/progress/img/AustinImg/PCB3_updated.png">
                  <p style="clear: both;">
            </div>
            <br>

            <br>

            <div id="week13">
                  <h4>Week 13:</h4>
            </div>
            <b>Date:</b> 7 April 2017<br>
            <b>Total hours:</b> 20<br>
            <b>Description of design efforts:</b><br></br>
            There was a lot of hardware progress this week. All of the components that would be placed on a PCB were gathered and any parts that Joe did not have in his inventory were purchased. All of the PCBs were also reviewed and submitted for fabrication. I also took the extra time to model the board for PCB4. Therefore, we have four boards in total (which is 15 frets and 16 LED arrays in total) and an almost complete board instead of just having the minimum amount of boards. While I was building PCB4, I realized that either our method of building the PCBs or the type of components selected would not have worked for PCB5 or Frets 16 to 22. This is due to the size of the frets and the size of how the LEDs were organized. There wouldn't be enough room for 7 more shift registers and LED arrays in addition to the resistor networks and traces.
            <br>
            <div align="center">
                  <img width="40%" src="Team/progress/img/AustinImg/PCB3_solder.png">
                  <img width="40%" src="Team/progress/img/AustinImg/layout_neck.png">
                  <p style="clear: both;">
            </div>
            <br>
            I also soldered one of the PIC32 microcontrollers and necessary decoupling capacitors and resistors onto one of the PCB3 boards. This way Brian and Cole could then start trying to communicate with our microcontroller. In an effort to further test our board, I also tried soldering a shift register and some 68 Ohm resistors in place of the resistor array in hopes of testing out the LED array. I realized that this probably would not work as well since the resistors are top heavy and are causing some of the pads to fall off of the board. There is also not enough room for the resistors to have a good connection to the pad. I also was able to finish building and testing the amplifier board for the pickup. With the help of Joe, I was able to build an amplifier that filters out some low frequencies and only output waveforms with a high amplitude. The pictures below show waveforms for a low E, a high E, and all strings strummed at once. This is intended to act as our strum detection where the user would have to strum with confidence in order to proceed to the next note. The amplifier circuit was built on protoboard instead of having a spot on the guitar neck due to space allocation on the neck and because the pickup signal is near the bottom of the guitar. I will probably have to build an enclosure by either building it by hand or using a 3D printer to protect the circuit.
            <br>
            <div align="center">
                  <img width="40%" src="Team/progress/img/AustinImg/amp_pickup.png">
                  <img width="40%" src="Team/progress/img/AustinImg/lowE_strum.png">
                  <img width="40%" src="Team/progress/img/AustinImg/highE_strum.png">
                  <img width="40%" src="Team/progress/img/AustinImg/all_strum.png">
                  <p style="clear: both;">
            </div>
            <br>

            <br>

            <div id="week14">
                  <h4>Week 14:</h4>
            </div>
            <b>Date:</b> 14 April 2017<br>
            <b>Total hours:</b> 7<br>
            <b>Description of design efforts:</b><br></br>
            On the hardware side of things, there has been a lot of down time this week. We have all of the components, but we are still waiting on the PCBs to come in. I emailed the PCB company to see if there were any more issues and if the PCBs will come in soon. In the mean time, we needed to build and purchase a test board for the Bluetooth transceiver so we can troubleshoot and test the Bluetooth connection with the app. We also needed to get an ICD 3 to ICSP connector to be able to program the microcontroller. I would like to add the LEDs to the test board so Brian and Cole can start trying to get the LEDs to light up, but I would want to use our resources on the updated boards that haven't come in yet. The new boards have the resistor arrays and not the makeshift resistor array that I built using through-hole resistors. I will also be making a trip to Menards this weekend to look at plastic sheets for the overlay and begin building that. I have around 5.44mm of height to build with for the fretboard, and I have a better idea of how thin the plastic sheet needs to be.
            <br>
            <div align="center">
                  <img width="40%" src="Team/progress/img/AustinImg/BM78breakout.png">
                  <p style="clear: both;">
            </div>
            
            <br>

            </br>  

                      
        </div>
	
		<!-- Instantiate global footer. Any changes to the footer should be made through the top-level file "footer.html" -->
		<div id="footer"></div>
    </div>
</div>

<!--JS-->
<script src="js/jquery.js"></script>
<script src="js/jquery-migrate-1.1.1.js"></script>

<script type="text/javascript">
$(document).ready(function() {
    $("#header").load("header.html");
	$("#menu").load("navbar.html");
	$("#footer").load("footer.html");
});
</script>
</body>
</html>
